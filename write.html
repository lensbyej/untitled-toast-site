<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Write — Untitled Toast</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <link rel="stylesheet" href="write.css" />
</head>

<body>
  <button id="settingsToggle" class="settings-toggle">Settings</button>

  <div id="settingsModal" class="settings-modal">
    <div class="settings-content">
      <div class="settings-header">
        <h2>Settings</h2>
        <button id="closeSettingsBtn" class="close-btn">Close</button>
      </div>

      <div class="settings-tabs">
        <button class="tab-btn active" data-tab="appearance">Appearance</button>
        <button class="tab-btn" data-tab="content">Content</button>
        <button class="tab-btn" data-tab="references">References</button>
        <button class="tab-btn" data-tab="export">Export</button>
      </div>

      <!-- Appearance Tab -->
      <div id="appearance" class="tab-content active">
        <div class="settings-group">
          <label for="themeSelect">Theme</label>
          <select id="themeSelect">
            <option value="dark">Dark</option>
            <option value="light">Light</option>
            <option value="rubber-ducky">Duck</option>
            <option value="pinetop">Pine</option>
            <option value="ocean-breeze">Ocean</option>
          </select>
        </div>

        <div class="settings-group">
          <label for="fontfamily">Font</label>
          <select id="fontfamily">
            <option value="'Times New Roman', serif">Times New Roman</option>
            <option value="'Segoe UI', Verdana, sans-serif">Sans</option>
            <option value="'Courier New', monospace">Mono</option>
            <option value="Georgia, serif">Georgia</option>
            <option value="'Garamond', serif">Garamond</option>
            <option value="'Palatino', serif">Palatino</option>
            <option value="'Trebuchet MS', sans-serif">Trebuchet</option>
            <option value="'Lucida Console', monospace">Lucida Console</option>
            <option value="'Playfair Display', serif">Playfair Display</option>
            <option value="'Lora', serif">Lora</option>
          </select>
        </div>

        <div class="settings-group">
          <label for="fontsize">Font Size: <span id="fontsizeDisplay">18px</span></label>
          <input type="range" id="fontsize" min="11" max="24" value="18" />
        </div>

        <div class="settings-group">
          <label for="linespacing">Line Spacing</label>
          <select id="linespacing">
            <option value="1.6">1.6x</option>
            <option value="1.8" selected>1.8x</option>
            <option value="2">2x</option>
            <option value="2.2">2.2x</option>
          </select>
        </div>

        <div class="settings-group">
          <label for="textAlign">Alignment</label>
          <select id="textAlign">
            <option value="left">Left</option>
            <option value="center">Center</option>
            <option value="right">Right</option>
            <option value="justify">Justify</option>
          </select>
        </div>
      </div>

      <!-- Content Tab -->
      <div id="content" class="tab-content">
        <div class="settings-group">
          <p class="group-description">Insert media and elements into your document</p>
          <div class="button-group">
            <button id="insertImageBtn" class="action-btn">Insert Image</button>
            <button id="insertTableBtn" class="action-btn">Insert Table</button>
          </div>
          <input type="file" id="imageInput" accept="image/*" style="display: none;" />
        </div>
      </div>

      <!-- References Tab -->
      <div id="references" class="tab-content">
        <div class="settings-group">
          <p class="group-description">Manage sources and citations</p>
          
          <div class="subsection">
            <h4>Citation Format</h4>
            <div class="button-group">
              <button class="citation-btn" onclick="insertCitation('APA')">APA</button>
              <button class="citation-btn" onclick="insertCitation('MLA')">MLA</button>
              <button class="citation-btn" onclick="insertCitation('Chicago')">Chicago</button>
              <button class="citation-btn" onclick="insertCitation('Harvard')">Harvard</button>
            </div>
          </div>

          <div class="subsection">
            <h4>Sources</h4>
            <div class="source-input-group">
              <input
                type="text"
                id="sourceInput"
                placeholder="Add source"
                maxlength="100"
              />
              <button id="addSourceBtn" class="btn-add">+</button>
            </div>
            <div class="settings-source-list" id="sourceList"></div>
          </div>

          <button id="insertBibBtn" class="action-btn">Insert Bibliography</button>
        </div>
      </div>

      <!-- Export Tab -->
      <div id="export" class="tab-content">
        <div class="settings-group">
          <p class="group-description">Export or print your document</p>
          <div class="button-group">
            <button id="printBtn" class="action-btn">Print</button>
            <button id="exportPdfBtn" class="action-btn">Export PDF</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <main class="page">
    <div class="title-section">
      <input
        type="text"
        class="document-title"
        id="documentTitle"
        placeholder="Untitled Essay"
      />
      <div class="stats-bar">
        <div class="stat-item">
          <span>Words:</span>
          <span id="wordCount">0</span>
        </div>
        <div class="stat-item">
          <span>Characters:</span>
          <span id="charCount">0</span>
        </div>
        <div class="stat-item">
          <span>Reading Time:</span>
          <span id="readingTime">0m</span>
        </div>
      </div>
    </div>

    <div
      id="editor"
      class="editor"
      contenteditable="true"
      spellcheck="true"
    ></div>

    <div id="autocomplete" class="autocomplete-popup"></div>

    <footer>
      Write by Untitled Toast — local, private, distraction-free
    </footer>
  </main>

  <script src="write.js"></script>
</body>
</html>